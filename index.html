<!DOCTYPE html>
<html>
<head>
<title>Admin 3 â€“ Cliente WhatsApp</title>
<style>
  body { font-family: Arial; padding: 20px; background: #f0f0f0; }
  h1 { color: #25D366; }
  #qr-container { background: white; padding: 20px; border-radius: 8px; margin-top: 20px; }
</style>
</head>
<body>
<h1>ğŸ“± Admin 3 â€“ Receptor de CÃ³digo QR</h1>
<div id="qr-container">Esperando conexiÃ³n...</div>

<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script>
// ğŸ§© PEGA AQUÃ EL TOKEN DEL ADMIN 3
const jwtToken = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2IiwiZW1haWwiOiJqdWFuMTVAZW1wcmVzYS5jb20iLCJub21icmUiOiJKdWFuIFDDqXJleiIsInJvbCI6IkFETUlOIiwiaWRQYWRyZSI6bnVsbCwiaWF0IjoxNzYyNDQ4Njk5LCJleHAiOjE3NjI1MzUwOTl9.5YVl_s9MsH_9RpjJaN1kEltXEeONCsFM8ULUP4mFHKw";

const socket = io("http://localhost:3000", {
  auth: { token: jwtToken }
});

socket.on('connect', () => {
  console.log('âœ… Admin 3 conectado');
  document.getElementById('qr-container').innerHTML = '<p>â³ Esperando cÃ³digo QR...</p>';
});

socket.on('qr', (qrDataUrl) => {
  console.log('ğŸ“² QR recibido para Admin 3');
  document.getElementById('qr-container').innerHTML =
    `<p><strong>Admin 3</strong> â€” Escanea este cÃ³digo:</p>
     <img src="${qrDataUrl}" alt="QR WhatsApp" style="max-width:400px;">`;
});

socket.on('session_status', (data) => {
  if (data.status === 'connected') {
    document.getElementById('qr-container').innerHTML =
      '<h2 style="color:#25D366">âœ… Admin 3 â€“ WhatsApp Conectado!</h2>';
  }
});

socket.on('disconnect', () => {
  console.log('âŒ Admin 3 desconectado');
  document.getElementById('qr-container').innerHTML =
    '<p style="color:red">Desconectado del servidor</p>';
});
</script>
</body>
</html>